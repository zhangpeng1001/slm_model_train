# 数据平台智能问答系统 - 需求设计文档

## 项目概述

基于Hugging Face中文数据集和BERT模型，开发一个专门针对数据平台业务的智能问答系统，能够回答数据清洗流程、数据入库流程等相关问题。

## 业务需求

### 核心功能
- **事实性问答**：回答数据平台相关的专业问题
- **智能匹配**：通过语义理解匹配用户问题与知识库
- **交互式界面**：提供友好的命令行交互体验
- **容错机制**：当BERT模型不可用时自动回退到基础知识库

### 应用场景
- 数据清洗流程咨询
- 数据入库操作指导  
- 数据质量检查说明
- 数据监控配置帮助
- 数据安全规范查询

## 技术架构

### 系统组件
```
数据平台问答系统
├── 知识库模块 (knowledge_base.py)
├── BERT问答模型 (simple_qa_model.py)
├── 系统主接口 (qa_system.py)
├── 启动脚本 (start_qa.py)
└── 测试模块 (test_qa.py)
```

### 技术栈
- **模型**: bert-base-chinese (本地部署)
- **数据集**: lansinuote/ChnSentiCorp (已下载)
- **框架**: transformers, torch
- **语言**: Python 3.x

## 设计方案

### 1. 知识库设计
- **预定义问答对**：覆盖15个核心数据平台主题
- **关键词匹配**：支持模糊匹配和同义词识别
- **分层回答**：提供详细步骤和操作指导

### 2. 语义理解模块
- **BERT编码**：将问题转换为向量表示
- **相似度计算**：使用余弦相似度匹配最佳答案
- **置信度评估**：设置0.7的匹配阈值

### 3. 交互设计
- **命令识别**：支持help、quit等系统命令
- **结果展示**：显示答案、匹配方法和置信度
- **错误处理**：友好的错误提示和异常恢复

## 实现成果

### 已完成功能
✅ 知识库构建 - 15个主题，45+问答对
✅ BERT模型集成 - 支持中文语义理解  
✅ 交互式问答 - 命令行界面
✅ 容错机制 - 自动回退模式
✅ 测试验证 - 完整测试用例

### 支持的问题类型
1. **数据清洗流程** - 配置规则、执行任务、验证结果
2. **数据入库流程** - 格式验证、质量检查、入库操作
3. **数据质量检查** - 完整性、准确性、一致性检查
4. **数据监控** - 质量监控、任务监控、流量监控
5. **数据安全** - 加密、访问控制、审计日志

### 使用方式
```bash
# 运行测试
python src/data_platform/test_qa.py

# 启动交互式系统
python src/data_platform/start_qa.py

# 或直接运行主程序
python src/data_platform/qa_system.py
```

## 系统特色

### 智能特性
- **语义理解**：基于BERT的深度语义匹配
- **多模式运行**：BERT模式 + 知识库回退模式
- **实时反馈**：显示匹配置信度和方法

### 用户体验
- **中文优化**：专门针对中文问答场景
- **专业领域**：聚焦数据平台业务场景
- **易于使用**：简单的命令行交互

## 部署说明

### 环境要求
- Python 3.7+
- transformers >= 4.0
- torch >= 1.7
- 已下载的bert-base-chinese模型

### 文件结构
```
src/data_platform/
├── __init__.py
├── knowledge_base.py      # 知识库
├── simple_qa_model.py     # BERT问答模型
├── qa_system.py           # 主系统接口
├── start_qa.py           # 启动脚本
├── test_qa.py            # 测试脚本
└── README.md             # 使用说明
```

## 扩展计划

### 短期优化
- 增加更多数据平台相关问答对
- 优化BERT模型的微调参数
- 添加问题分类功能

### 长期规划
- 支持多轮对话
- 集成实时数据平台API
- 添加语音交互功能

---

**文档版本**: v1.0  
**更新日期**: 2025年8月13日  
**负责人**: 数据平台团队
